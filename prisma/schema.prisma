// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

enum COMMITTEE_TYPE {
  PENGURUS_INTI
  BADAN_PENGURUS_HARIAN
}

enum PENGURUS_INTI_TYPE {
  PROJECT_OFFICER
  VICE_PROJECT_OFFICER_INTERNAL
  VICE_PROJECT_OFFICER_EXTERNAL
  SEKRETARIS_UMUM
  CONTROLLER
  TRASURER
  KOORDINATOR_BIDANG_ACARA
  KOORDINATOR_SARANA_DAN_PRASANARANA
  KOORDINATOR_OPERASIONAL
  KOORDINATOR_MATERI_DAN_MENTOR
  KOORDINATOR_KREATIF
  KOORDINATOR_RELASI
}

enum BADAN_PENGURUS_HARIAN_TYPE {
  PROJECT
  SPONSORSHIP
  KESEKRETARIATAN
  PSDM
  ACARA_PUNCAK
  EKSPLORASI
  TRANSPORTASI_DAN_KONSUMSI
  PERIZINAN
  LOGISTIK
  KEAMANAN
  MEDIS
  MEDIA_INFORMASI
  KELEMBAGAAN
  MATERI
  MENTOR
  MEDIA_PARTNER
  IT_DAN_BROADCAST
  DEKORASI_DAN_WARDROBE
  VISUAL_DESIGN_DAN_DOKUMENTASI
}

model Event {
  id          Int      @id @default(sequence())
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt
  start_date  DateTime
  end_date    DateTime
  name        String   @db.Char(255)
  description String?
  location    String   @db.Char(255)
}

model Committee {
  id               Int                         @id @default(sequence())
  name             String                      @db.Char(255)
  committeeType    COMMITTEE_TYPE
  pengurusIntiType PENGURUS_INTI_TYPE?
  bphType          BADAN_PENGURUS_HARIAN_TYPE?
  group            Group? // Only has group if bphType is MENTOR
}

model Group {
  id          Int       @id @default(sequence())
  number      Int       @unique
  committee   Committee @relation(fields: [committeeId], references: [id])
  committeeId Int       @unique
}
